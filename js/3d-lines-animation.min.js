var mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,SEPARATION=200,AMOUNTX=1,AMOUNTY=1,camera,scene,renderer;init();animate();function init(){var a,b=1000,h=50,f=50,c=16777215,l,e;a=document.getElementById("canvas");camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,10000);camera.position.z=100;scene=new THREE.Scene();renderer=new THREE.CanvasRenderer({alpha:true});renderer.setPixelRatio(window.devicePixelRatio);renderer.setClearColor(0,0);renderer.setSize(window.innerWidth,window.innerHeight);a.appendChild(renderer.domElement);var k=Math.PI*2;var g=new THREE.SpriteCanvasMaterial({color:c,opacity:0.5,program:function(i){i.beginPath();i.arc(0,0,0.5,0,k,true);i.fill()}});var j=new THREE.Geometry();for(var d=0;d<150;d++){e=new THREE.Sprite(g);e.position.x=Math.random()*2-1;e.position.y=Math.random()*2-1;e.position.z=Math.random()*2-1;e.position.normalize();e.position.multiplyScalar(Math.random()*10+600);e.scale.x=e.scale.y=5;scene.add(e);j.vertices.push(e.position)}var m=new THREE.Line(j,new THREE.LineBasicMaterial({color:c,opacity:0.2}));scene.add(m);document.addEventListener("mousemove",onDocumentMouseMove,false);document.addEventListener("touchstart",onDocumentTouchStart,false);document.addEventListener("touchmove",onDocumentTouchMove,false);window.addEventListener("resize",onWindowResize,false)}function onWindowResize(){windowHalfX=window.innerWidth/2;windowHalfY=window.innerHeight/2;camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(a){mouseX=(a.clientX-windowHalfX)*0.05;mouseY=(a.clientY-windowHalfY)*0.2}function onDocumentTouchStart(a){if(a.touches.length>1){a.preventDefault();mouseX=(a.touches[0].pageX-windowHalfX)*0.7;mouseY=(a.touches[0].pageY-windowHalfY)*0.7}}var width=$(window).width();if(width>=768){function onDocumentTouchMove(a){if(a.touches.length==1){a.preventDefault();mouseX=a.touches[0].pageX-windowHalfX;mouseY=a.touches[0].pageY-windowHalfY}}}function animate(){requestAnimationFrame(animate);render()}function render(){camera.position.x+=(mouseX-camera.position.x)*0.1;camera.position.y+=(-mouseY+200-camera.position.y)*0.05;camera.lookAt(scene.position);renderer.render(scene,camera)};